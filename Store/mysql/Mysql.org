* Mysql结构

* Mysql一条SQL语句执行过程
** 基础流程

** 日志系统
*** 物理日志redolog
*** 逻辑日志binlog

** 事务隔离
•原子性（Atomicity）：原子性是指事务包含的所有操作要么全部成功，要么全部失败回滚•相关技术：redolog、undolog
•一致性（Consistency）：事务执行前、执行中、执行后，数据库必须是一个一致的状态•说明：一致性是事务最基本的属性
•隔离性（Isolation）：并发事务之间要相互隔离，一个事务执行理论上不应该被其它事务干扰•相关技术：锁、MVCC
•持久性（Durability）：一旦事务提交，对数据库中的对应数据的状态的变更就会永久保存到数据库中•相关技术：WAL（Write-Ahead Log ：redolog）


脏读指的是读到了其他事务未提交的数据，未提交意味着这些数据可能会回滚，也就是可能最终不会存到数据库中，也就是不存在的数据。读到了并一定最终存在的数据，这就是脏读。
不可重复读指的是在一个事务内，最开始读到的数据和事务结束前的任意时刻读到的同一批数据出现不一致的情况。
幻读错误的理解

说幻读是 事务A 执行两次 select 操作得到不同的数据集，即 select 1 得到 10 条记录，select 2 得到 15 条记录。
这其实并不是幻读，既然第一次和第二次读取的不一致，那不还是不可重复读吗，所以这是不可重复读的一种。
正确的理解应该是

幻读，并不是说两次读取获取的结果集不同，幻读侧重的方面是某一次的 select 操作得到的结果所表征的数据状态无法支撑后续的业务操作。
更为具体一些：select 某记录是否存在，不存在，准备插入此记录，但执行 insert 时发现此记录已存在，无法插入，此时就发生了幻读。